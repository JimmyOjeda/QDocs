<app-toolbar [title]="'Bases de Datos'"></app-toolbar>

<app-sidenav-builder>
    <div class="controls">
        <app-add-button (click)="createDatabaseConfiguration()">

        </app-add-button>
    </div>
    <div class="grid-container">
        <app-option
            [imageSource]="imageSource"
            [option]="database"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
            (click)="loadDatabaseData(database.id)"
            *ngFor="let database of databases" >

        </app-option>
    </div>

</app-sidenav-builder>


<app-modal>
    <div class="header">
        <h2 class="modal-title" id="exampleModalLabel">
            {{modalTitle}} 
        </h2>
    </div>
    <div class="body">
        <form [formGroup]="databaseForm">
            <p class="field-title">
                Nombre:
            </p>
            <input type="text" [class.is-invalid]="databaseForm.get('name')?.touched && databaseForm.get('name')?.invalid" class="form-control" formControlName="name">
            <p class="field-title">
                Dirección:
            </p>
            <input type="text" [class.is-invalid]="databaseForm.get('direction')?.touched && databaseForm.get('direction')?.invalid" class="form-control" formControlName="direction">
            <p class="field-title">
                Puerto:
            </p>
            <input type="text" [class.is-invalid]="databaseForm.get('port')?.touched && databaseForm.get('port')?.invalid" class="form-control" formControlName="port">
            <p class="field-title">
                Usuario:
            </p>
            <input type="text" [class.is-invalid]="databaseForm.get('user')?.touched && databaseForm.get('user')?.invalid" class="form-control" formControlName="user">
            <p class="field-title">
                Contraseña:
            </p>
            <input type="text" [class.is-invalid]="databaseForm.get('password')?.touched && databaseForm.get('password')?.invalid" class="form-control" formControlName="password">
        </form>
    </div>
    <hr>
    <div class="footer">
        <div class="save-button">
            <button type="button" [disabled]="databaseForm.invalid" class="btn btn-primary" data-bs-dismiss="modal" (click)="saveDatabaseConfiguration()">
                <strong>
                    Guardar
                </strong>
            </button>
        </div>
    </div>
</app-modal>